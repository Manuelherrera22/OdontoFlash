"use strict";(()=>{var e={};e.id=2,e.ids=[2],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},6899:(e,a,t)=>{t.r(a),t.d(a,{headerHooks:()=>f,originalPathname:()=>v,patchFetch:()=>D,requestAsyncStorage:()=>y,routeModule:()=>c,serverHooks:()=>N,staticGenerationAsyncStorage:()=>T,staticGenerationBailout:()=>h});var r={};t.r(r),t.d(r,{POST:()=>m});var s=t(5419),i=t(9108),n=t(9678),o=t(8070),d=t(3205),u=t(5252),l=t(2178);let p=u.Ry({email:u.Z_().email(),password:u.Z_().min(6),firstName:u.Z_().min(1),lastName:u.Z_().min(1),phone:u.Z_().min(1),address:u.Z_().min(1),birthDate:u.Z_().transform(e=>new Date(e)),userType:u.Km(["PATIENT","STUDENT"]),patientData:u.Ry({dentalNeeds:u.Z_(),medicalHistory:u.Z_().optional()}).optional(),studentData:u.Ry({university:u.Z_(),studentId:u.Z_(),semester:u.Rx(),specialization:u.Z_()}).optional()}).refine(e=>("PATIENT"!==e.userType||!!e.patientData)&&("STUDENT"!==e.userType||!!e.studentData));async function m(e){try{let a=await e.json(),t=p.parse(a),r=await (0,d.r4)(t);return o.Z.json({success:!0,user:{id:r.id,email:r.email,firstName:r.firstName,lastName:r.lastName,userType:r.userType}})}catch(e){if(e instanceof l.jm)return o.Z.json({success:!1,error:"Datos inv\xe1lidos",details:e.errors},{status:400});if(e instanceof Error&&e.message.includes("Unique constraint"))return o.Z.json({success:!1,error:"El correo electr\xf3nico ya est\xe1 registrado"},{status:409});return console.error("Registration error:",e),o.Z.json({success:!1,error:"Error interno del servidor"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"C:\\Users\\Work-Station\\FastStack\\Projects\\181047e4-2a64-4ac4-a923-e75f6253e0a4\\Odontoflash_2025-09-22_18-53-43-841Z\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"export",userland:r}),{requestAsyncStorage:y,staticGenerationAsyncStorage:T,serverHooks:N,headerHooks:f,staticGenerationBailout:h}=c,v="/api/auth/register/route";function D(){return(0,n.patchFetch)({serverHooks:N,staticGenerationAsyncStorage:T})}},3205:(e,a,t)=>{t.d(a,{RA:()=>p,So:()=>c,r4:()=>m});var r=t(6521),s=t.n(r),i=t(6082),n=t.n(i);let o=process.env.NEXTAUTH_SECRET||"your-secret-key",d=[{id:"1",email:"maria@example.com",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Mar\xeda",lastName:"Gonz\xe1lez",phone:"+1234567890",address:"Calle Principal 123",birthDate:new Date("1990-01-01"),userType:"PATIENT",patientProfile:{dentalNeeds:"Limpieza dental y revisi\xf3n general",medicalHistory:"Sin alergias conocidas"}},{id:"2",email:"carlos@example.com",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Carlos",lastName:"Ruiz",phone:"+1234567891",address:"Avenida Central 456",birthDate:new Date("1985-05-15"),userType:"PATIENT",patientProfile:{dentalNeeds:"Tratamiento de caries",medicalHistory:"Diabetes tipo 2"}},{id:"3",email:"laura@university.edu",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Laura",lastName:"Fern\xe1ndez",phone:"+1234567892",address:"Campus Universitario",birthDate:new Date("2000-03-20"),userType:"STUDENT",studentProfile:{university:"Universidad Nacional",studentId:"2023001",semester:6,specialization:"Odontolog\xeda General"}},{id:"4",email:"miguel@university.edu",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Miguel",lastName:"Torres",phone:"+1234567893",address:"Campus Universitario",birthDate:new Date("1999-07-10"),userType:"STUDENT",studentProfile:{university:"Universidad Nacional",studentId:"2023002",semester:8,specialization:"Ortodoncia"}}];async function u(e){return s().hash(e,12)}async function l(e,a){return s().compare(e,a)}function p(e){return n().sign({id:e.id,email:e.email,userType:e.userType},o,{expiresIn:"7d"})}async function m(e){return{id:Date.now().toString(),email:e.email,password:await u(e.password),firstName:e.firstName,lastName:e.lastName,phone:e.phone,address:e.address,birthDate:e.birthDate,userType:e.userType,patientProfile:e.patientData,studentProfile:e.studentData}}async function c(e,a){let t=d.find(a=>a.email===e);return t&&await l(a,t.password)?{id:t.id,email:t.email,firstName:t.firstName,lastName:t.lastName,userType:t.userType}:null}}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[638,206,326],()=>t(6899));module.exports=r})();