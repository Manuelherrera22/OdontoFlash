"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},6362:(e,a,r)=>{r.r(a),r.d(a,{headerHooks:()=>N,originalPathname:()=>v,patchFetch:()=>w,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>f,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>T});var t={};r.r(t),r.d(t,{POST:()=>c});var s=r(5419),i=r(9108),n=r(9678),o=r(8070),d=r(3205),u=r(5252),l=r(2178);let p=u.Ry({email:u.Z_().email(),password:u.Z_().min(1)});async function c(e){try{let a=await e.json(),{email:r,password:t}=p.parse(a),s=await (0,d.So)(r,t);if(!s)return o.Z.json({success:!1,error:"Credenciales inv\xe1lidas"},{status:401});let i=(0,d.RA)(s);return o.Z.json({success:!0,user:s,token:i})}catch(e){if(e instanceof l.jm)return o.Z.json({success:!1,error:"Datos inv\xe1lidos",details:e.errors},{status:400});return console.error("Login error:",e),o.Z.json({success:!1,error:"Error interno del servidor"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"C:\\Users\\Work-Station\\FastStack\\Projects\\181047e4-2a64-4ac4-a923-e75f6253e0a4\\Odontoflash_2025-09-22_18-53-43-841Z\\app\\api\\auth\\login\\route.ts",nextConfigOutput:"export",userland:t}),{requestAsyncStorage:h,staticGenerationAsyncStorage:y,serverHooks:f,headerHooks:N,staticGenerationBailout:T}=m,v="/api/auth/login/route";function w(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:y})}},3205:(e,a,r)=>{r.d(a,{RA:()=>p,So:()=>m,r4:()=>c});var t=r(6521),s=r.n(t),i=r(6082),n=r.n(i);let o=process.env.NEXTAUTH_SECRET||"your-secret-key",d=[{id:"1",email:"maria@example.com",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Mar\xeda",lastName:"Gonz\xe1lez",phone:"+1234567890",address:"Calle Principal 123",birthDate:new Date("1990-01-01"),userType:"PATIENT",patientProfile:{dentalNeeds:"Limpieza dental y revisi\xf3n general",medicalHistory:"Sin alergias conocidas"}},{id:"2",email:"carlos@example.com",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Carlos",lastName:"Ruiz",phone:"+1234567891",address:"Avenida Central 456",birthDate:new Date("1985-05-15"),userType:"PATIENT",patientProfile:{dentalNeeds:"Tratamiento de caries",medicalHistory:"Diabetes tipo 2"}},{id:"3",email:"laura@university.edu",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Laura",lastName:"Fern\xe1ndez",phone:"+1234567892",address:"Campus Universitario",birthDate:new Date("2000-03-20"),userType:"STUDENT",studentProfile:{university:"Universidad Nacional",studentId:"2023001",semester:6,specialization:"Odontolog\xeda General"}},{id:"4",email:"miguel@university.edu",password:"$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj4J/4.8.8.8",firstName:"Miguel",lastName:"Torres",phone:"+1234567893",address:"Campus Universitario",birthDate:new Date("1999-07-10"),userType:"STUDENT",studentProfile:{university:"Universidad Nacional",studentId:"2023002",semester:8,specialization:"Ortodoncia"}}];async function u(e){return s().hash(e,12)}async function l(e,a){return s().compare(e,a)}function p(e){return n().sign({id:e.id,email:e.email,userType:e.userType},o,{expiresIn:"7d"})}async function c(e){return{id:Date.now().toString(),email:e.email,password:await u(e.password),firstName:e.firstName,lastName:e.lastName,phone:e.phone,address:e.address,birthDate:e.birthDate,userType:e.userType,patientProfile:e.patientData,studentProfile:e.studentData}}async function m(e,a){let r=d.find(a=>a.email===e);return r&&await l(a,r.password)?{id:r.id,email:r.email,firstName:r.firstName,lastName:r.lastName,userType:r.userType}:null}}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[638,206,326],()=>r(6362));module.exports=t})();